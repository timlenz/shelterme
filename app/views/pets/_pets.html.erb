<div class="span12 adminView">
  <%= will_paginate %>
  <table class="table table-condensed table-bordered">
    <thead>
      <th style="width:56px;"><%= sortable "id", "SMID" %></th>
      <th style="width:125px;"><%= sortable "created_at", "Added" %></th>
      <th style="width:90px;"><%= sortable "animal_code", "Animal ID" %></th>
      <th style="width:200px;"><%= sortable "name" %></th>
      <th>Status</th>
    </thead>
    </tr>
  </table>
  <ul>
    <%= render @pets %>
  </ul>
  <%= will_paginate %>
</div>

<script>
  $(function(){
		$('div.btn-group[data-toggle-name=*]').each(function(){
		  var group   = $(this);
		  var form    = group.parents('form').eq(0);
		  var name    = group.attr('data-toggle-name');
		  var hidden  = $('input[name="' + name + '"]', form);
		  $('button', group).each(function(){
		    var button = $(this);
		    button.live('click', function(){
	        hidden.val($(this).val());
					// Submit pet state changes on click
					if($('#pets').length) {
						$(this).parent().parent().find("input[type=submit]").click();
					};
		    });
		    if(button.val() == hidden.val()) {
		      button.addClass('active');
		    };
		  });
		});
  });
</script>