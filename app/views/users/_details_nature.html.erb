<%= image_tag("
#{ ["low", "mid", "high"].fetch( number_with_precision( ( (@user.pets.select{|p| p.nature.name == 'submissive'}.count + @user.watched_pets.select{|p| p.nature.name == 'submissive'}.count) * 1 +
(@user.pets.select{|p| p.nature.name == 'playful'}.count + @user.watched_pets.select{|p| p.nature.name == 'playful'}.count) * 2 +
(@user.pets.select{|p| p.nature.name == 'dominant'}.count + @user.watched_pets.select{|p| p.nature.name == 'dominant'}.count) * 3 ) / 
( (@user.pets.select{|p| p.nature.name == 'submissive'}.count + @user.watched_pets.select{|p| p.nature.name == 'submissive'}.count) +
(@user.pets.select{|p| p.nature.name == 'playful'}.count + @user.watched_pets.select{|p| p.nature.name == 'playful'}.count) +
(@user.pets.select{|p| p.nature.name == 'dominant'}.count + @user.watched_pets.select{|p| p.nature.name == 'dominant'}.count) ), precision: 0).to_i - 1 ) }#{(@user.pets.select{|p| p.species.name == 'cat'}.count + @user.watched_pets.select{|p| p.species.name == 'cat'}.count) >
(@user.pets.select{|p| p.species.name == 'dog'}.count + @user.watched_pets.select{|p| p.species.name == 'dog'}.count) ?
"Cat" : "Dog"}NatureIcon.png")%>